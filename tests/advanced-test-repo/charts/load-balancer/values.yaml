# Load Balancer - HIGH Exposure (Traffic distribution)
service:
  type: "LoadBalancer"
  port: 80
  targetPort: 8080
  loadBalancerIP: "192.168.1.150"
  externalTrafficPolicy: "Local"

# Load balancer specific configurations
loadBalancer:
  type: "nginx"
  version: "1.25"
  enableSSL: true
  enableHTTP2: true
  enableGzip: true

# Upstream services
upstreams:
  - name: "frontend"
    service: "frontend-web"
    port: 80
    weight: 50
    healthCheck: true
  
  - name: "api"
    service: "api-gateway"
    port: 80
    weight: 30
    healthCheck: true
  
  - name: "security"
    service: "security-gateway"
    port: 443
    weight: 20
    healthCheck: true

# SSL configuration
ssl:
  enableTLS: true
  enableHSTS: true
  enableOCSP: true
  enableCertificateTransparency: true

# Health checking
healthCheck:
  enabled: true
  path: "/health"
  interval: "10s"
  timeout: "5s"
  unhealthyThreshold: 3
  healthyThreshold: 2

# Rate limiting
rateLimit:
  enabled: true
  requestsPerSecond: 1000
  burstSize: 100
  enableZoneSharing: true

# Logging and monitoring
logging:
  enableAccessLogs: true
  enableErrorLogs: true
  enableMetrics: true
  logFormat: "combined"
